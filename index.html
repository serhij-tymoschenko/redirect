<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Opening in Coinbase Wallet Browser...</title>
</head>
<body>
<p>
    Opening in Coinbase Wallet browser...<br />
    <a id="manual" href="#">Click here if it doesn't open</a>
</p>

<script>
    (function () {
        const targetUrl = "https://mash-it.io/mashers?listing=429";

        const isAndroid = /Android/i.test(navigator.userAgent);

        // iOS deep link: open in Coinbase Wallet Dapp Browser
        const iosDeepLink = "cbwallet://dapp?url=" + encodeURIComponent(targetUrl);

// Android deep link (without fallback)
        const androidDeepLink =
            "intent://dapp?url=" + encodeURIComponent(targetUrl) +
            "#Intent;" +
            "scheme=cbwallet;" +    // matches iOS scheme
            "package=org.toshi;" +  // Coinbase Wallet package
            "end";

        const deepLink = isAndroid ? androidDeepLink : iosDeepLink;

        document.getElementById("manual").href = deepLink;

        // Attempt open
        window.location.href = deepLink;

        // Fallback to normal browser if blocked / not installed
        setTimeout(() => {
            window.location.href = targetUrl;
        }, 1500);
    })();
</script>
</body>
</html>
